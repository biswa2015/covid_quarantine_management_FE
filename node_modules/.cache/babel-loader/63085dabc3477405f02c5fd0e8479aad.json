{"ast":null,"code":"var _jsxFileName = \"/home/priyanko/covid_quarantine_management_FE/src/components/allocateRoom.js\";\nimport React, { Component } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { withRouter } from \"react-router\";\nimport { Redirect } from 'react-router'; //import { Redirect } from 'react-router';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass AllocateRoomsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      student_id: '',\n      res_data: {},\n      room_id: this.props.match.params.room_id,\n      isloggedin: this.getCookie('admin_cookie') !== undefined ? true : false\n    };\n    this.submitAllocateRooms = this.submitAllocateRooms.bind(this);\n    this.detailsChange = this.detailsChange.bind(this);\n  }\n\n  getCookie(cName) {\n    const name = cName + \"=\";\n    const cDecoded = decodeURIComponent(document.cookie); //to be careful\n\n    const cArr = cDecoded.split('; ');\n    let res;\n    cArr.forEach(val => {\n      if (val.indexOf(name) === 0) res = val.substring(name.length);\n    });\n    return res;\n  }\n\n  submitAllocateRooms(event) {\n    console.log(this.state);\n    event.preventDefault();\n    const token = this.getCookie('admin_cookie');\n    const headers = {\n      \"Authorization\": `Bearer ${token}`\n    }; //axios.post('http://localhost:8095/allocate-room/'+this.state.student_id+'/'+this.props.match.params.room_id, {headers})\n\n    axios.post('http://localhost:8095/allocate-room/', this.state, {\n      headers\n    }).then(response => {\n      if (response.status == 200) {\n        alert(\"Room Allocated!\");\n      } else {\n        alert(\"Room not allocated.Please Try Again\"); // this.setState({\n        //     res_data: response.data,\n        // })\n        // alert(this.state.res_data);\n      }\n    });\n  }\n\n  detailsChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  render() {\n    if (this.state.isloggedin) {\n      const {\n        match,\n        location,\n        history\n      } = this.props;\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"AllocateRooms\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"ALLOCATE ROOMS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: this.submitAllocateRooms,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicstudentID\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Enter Student Id\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              required: true,\n              type: \"text\",\n              name: \"student_id\",\n              value: this.state.student_id,\n              onChange: this.detailsChange\n              /*placeholder=\"Your Name\"*/\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"lg\",\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Allocate Room\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: \"/\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 20\n      }, this);\n    }\n  }\n\n} //export default DelegateConsentPage;\n\n\nAllocateRoomsPage.propTypes = {\n  match: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  history: PropTypes.object.isRequired\n};\nconst AllocateRoomsWithRouter = withRouter(AllocateRoomsPage);\n_c = AllocateRoomsWithRouter;\nexport default AllocateRoomsWithRouter;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllocateRoomsWithRouter\");","map":{"version":3,"sources":["/home/priyanko/covid_quarantine_management_FE/src/components/allocateRoom.js"],"names":["React","Component","Form","Button","axios","PropTypes","useParams","withRouter","Redirect","AllocateRoomsPage","constructor","props","state","student_id","res_data","room_id","match","params","isloggedin","getCookie","undefined","submitAllocateRooms","bind","detailsChange","cName","name","cDecoded","decodeURIComponent","document","cookie","cArr","split","res","forEach","val","indexOf","substring","length","event","console","log","preventDefault","token","headers","post","then","response","status","alert","setState","target","value","render","location","history","pathname","propTypes","object","isRequired","AllocateRoomsWithRouter"],"mappings":"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","sourcesContent":["\nimport React,{Component} from 'react'\nimport {Form ,Button} from 'react-bootstrap'\nimport axios from 'axios';\nimport PropTypes from 'prop-types';\nimport { useParams } from 'react-router-dom';\nimport { withRouter } from \"react-router\";\nimport { Redirect } from 'react-router';\n//import { Redirect } from 'react-router';\n\n\nclass AllocateRoomsPage extends Component{\n\n    constructor(props){\n        super(props);\n        this.state = {\n            student_id : '',\n            res_data : {},\n            room_id : this.props.match.params.room_id,\n            isloggedin : this.getCookie('admin_cookie')!==undefined ? true : false\n        }\n        this.submitAllocateRooms = this.submitAllocateRooms.bind(this);\n        this.detailsChange = this.detailsChange.bind(this);\n    }\n\n    static propTypes = {\n        match: PropTypes.object.isRequired,\n        location: PropTypes.object.isRequired,\n        history: PropTypes.object.isRequired\n    };\n\n    getCookie(cName) {\n        const name = cName + \"=\";\n        const cDecoded = decodeURIComponent(document.cookie); //to be careful\n        const cArr = cDecoded .split('; ');\n        let res;\n        cArr.forEach(val => {\n            if (val.indexOf(name) === 0) res = val.substring(name.length);\n        })\n        return res;\n      }\n\n    submitAllocateRooms(event){\n      console.log(this.state);\n      event.preventDefault();\n      const token=this.getCookie('admin_cookie')\n      const headers = {\n          \"Authorization\" : `Bearer ${token}`\n      };\n      \n      //axios.post('http://localhost:8095/allocate-room/'+this.state.student_id+'/'+this.props.match.params.room_id, {headers})\n        axios.post('http://localhost:8095/allocate-room/', this.state, {headers})\n       .then(response => \n         {\n            if(response.status==200){\n                alert(\"Room Allocated!\");\n              }\n              else{\n                alert(\"Room not allocated.Please Try Again\");\n                // this.setState({\n                //     res_data: response.data,\n                // })\n                // alert(this.state.res_data);\n              }\n         }\n      );\n  }\n\n  detailsChange(event){\n    this.setState({\n        [event.target.name]:event.target.value\n    });\n}\n\n\n    render(){\n        if(this.state.isloggedin)\n        {\n        const {match,location,history} = this.props;\n        return (\n        \n            <div className=\"AllocateRooms\">\n                <h1>ALLOCATE ROOMS</h1>\n                <Form onSubmit = {this.submitAllocateRooms}>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicstudentID\">\n                        <Form.Label>Enter Student Id</Form.Label>\n                        <Form.Control required type=\"text\" name=\"student_id\" value={this.state.student_id} onChange={this.detailsChange} /*placeholder=\"Your Name\"*/ />\n                    </Form.Group>\n\n\n                    <Button size=\"lg\" variant=\"primary\" type=\"submit\">\n                        Allocate Room\n                    </Button>\n                </Form>\n            </div>\n              \n        );\n        }\n        else{\n            return <Redirect to = {{ pathname: \"/\" }} />;\n          }\n    }\n\n}\n\n\n//export default DelegateConsentPage;\nconst AllocateRoomsWithRouter = withRouter(AllocateRoomsPage);\nexport default  AllocateRoomsWithRouter;\n\n    "]},"metadata":{},"sourceType":"module"}